var e,t;(t=e||(e={}))[t.createDirectoryFiles=0]="createDirectoryFiles",t[t.createDirectoryFile=1]="createDirectoryFile";const a=async(e,t,a=!1)=>{let r=null;try{r=await e.getFileHandle(t,{create:a})}catch(c){}return r};onmessage=async e=>{switch(e.data.type){case"createDirectoryFile":const t=[];for(const r of e.data.payload)t.push(new Promise((async e=>{const{name:t,contents:c,parentHandle:i}=r,n=`${performance.now()}`;console.time(n);let o=await a(i,t,!0),l=await o.createWritable({keepExistingData:!1});await l.write(c),await l.close(),console.timeEnd(n),o=null,l=null,e()})));await Promise.all(t),postMessage("createDirectoryFile:done")}};
