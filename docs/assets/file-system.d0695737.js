var e,a;(a=e||(e={}))[a.createDirectoryFiles=0]="createDirectoryFiles",a[a.createDirectoryFile=1]="createDirectoryFile";const t=async(e,a,t=!1)=>{let r=null;try{r=await e.getFileHandle(a,{create:t})}catch(c){}return r};onmessage=async e=>{switch(e.data.type){case"createDirectoryFile":const a=[];for(const r of e.data.payload)a.push(new Promise((async e=>{const{name:a,contents:c,parentHandle:i}=r;performance.now();let n=await t(i,a,!0),l=await n.createWritable({keepExistingData:!1});await l.write(c),await l.close(),n=null,l=null,e()})));await Promise.all(a),postMessage("createDirectoryFile:done")}};
